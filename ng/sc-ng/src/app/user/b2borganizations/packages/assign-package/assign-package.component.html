<div class="page-container">
    <div class="page-header">
        <div class="title-block">
            <h3 class="page-title">Assign Package to: Aadeshwar Academy</h3>
            <p class="title-description bottom-seperator">Pricing Packages that govern the limitations of an org.</p>
        </div>
    </div>
    <div class="page-content">
        <div class="form-title">
            <h3 class="title-block">Please enter Package Details below:
                <span class="badge badge-success">Currently Assigned: {{selectedPkgName}}</span>
            </h3>
        </div>
        <div class="container form-container">
            <form autocomplete="off" novalidate [formGroup]="assignForm">
                <div class="row">
                    <div class="col">
                        <mat-form-field appearance="fill">
                            <mat-label>Select a Package:</mat-label>
                            <mat-select matNativeControl required 
                              aria-placeholder="Select a Package:" formControlName="orgPackageID" (selectionChange) = "selectedPkg($event)">
                              <mat-option *ngFor= "let item of pkgListData" [value]="item.orgPackageID">{{item.orgPackageName}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="errorHandling('orgPackageID', 'required')">Package is required</mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 col-xs">
                        <mat-form-field appearance="fill">
                            <mat-label>Subjects</mat-label>
                            <mat-select matNativeControl required 
                              aria-placeholder="Select a Value:" formControlName="numSubject">
                              <mat-option *ngFor="let item of subjectListData" [value]="item">{{item}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="errorHandling('numSubject', 'required')">Subject is required</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-md-4 col-xs">
                        <mat-form-field appearance="fill">
                            <mat-label>Courses/Classes</mat-label>
                            <mat-select matNativeControl required 
                              aria-placeholder="Select a Value" formControlName="numCourses">
                              <mat-option *ngFor="let item of courseListData" [value]="item">{{item}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="errorHandling('numCourses', 'required')">Course is required</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-md-4 col-xs">
                        <mat-form-field appearance="fill">
                            <mat-label>Exams</mat-label>
                            <mat-select matNativeControl required 
                              aria-placeholder="Select a Value" formControlName="numExam">
                              <mat-option *ngFor="let item of examListData" [value]="item">{{item}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="errorHandling('numExam', 'required')">Exam field is required</mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-xs">
                        <mat-form-field>
                            <mat-label>Number of Students</mat-label>
                            <input matInput type="text" placeholder="eg: 650" formControlName="numStudents">
                            <mat-error *ngIf="errorHandling('numStudents', 'required')">Number of Student field is required</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-sm-6 col-xs">
                        <mat-form-field>
                            <mat-label>Price Per Student</mat-label>
                            <input matInput type="text" placeholder="eg: 100" formControlName="perStudentPrice">
                            <mat-error *ngIf="errorHandling('perStudentPrice', 'required')">Price Per Student field is required</mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 col-xs">
                        <mat-form-field appearance="fill">
                            <mat-label>Plan Start Date</mat-label>
                            <input matInput [matDatepicker]="pickerstart" [min]="minDate" (click)="pickerstart.open()" formControlName="planStartDate">
                            <mat-datepicker-toggle matSuffix [for]="pickerstart"></mat-datepicker-toggle>
                            <mat-datepicker #pickerstart></mat-datepicker>
                            <mat-error *ngIf="errorHandling('planStartDate', 'required')">Please select Start Date</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="col-sm-6 col-xs">
                        <mat-form-field appearance="fill">
                            <mat-label>Plan End Date</mat-label>
                            <input matInput [matDatepicker]="pickerend" (click)="pickerend.open()" [min]="minDate" formControlName="planEndDate">
                            <mat-datepicker-toggle matSuffix [for]="pickerend"></mat-datepicker-toggle>
                            <mat-datepicker #pickerend
                            ></mat-datepicker>
                            <mat-error *ngIf="errorHandling('planEndDate', 'required')">Please select End Date</mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                      <mat-card-actions>
                        <div class="button-inline">
                          <button type="submit" mat-raised-button color="primary" [disabled]="assignForm.invalid" (click)="submitFormData()">Assign Package</button>
                          <button type="button" mat-raised-button color="warn" (click)="cancelButtonEvent()">Cancel</button>
                        </div>
                      </mat-card-actions>
                    </div>
                  </div>
            </form>
        </div>
    </div>
</div>